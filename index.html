<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>YourSite â€” Ø³Ø§ÛŒØª Ú©Ø§Ù…Ù„ (Ù†Ø³Ø®Ù‡Ù” Ø¯Ù…ÙˆÛŒ Ø´Ù…Ø§)</title>
  <meta name="description" content="Ø³Ø§ÛŒØª Ù†Ù…ÙˆÙ†Ù‡ Ø¨Ø§ Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡: Ú©Ø§Ø±Ø¨Ø±Ø§Ù†ØŒ Ø¨Ù„Ø§Ú¯ØŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ØŒ Ù†Ø±Ø® Ø§Ø±Ø²/Ø·Ù„Ø§ØŒ Ú†Øª Ø¢Ù†Ù„Ø§ÛŒÙ† Ùˆ...">
  <meta name="robots" content="index, follow" />

  <!-- CONFIG: Ø¬Ø§ÛŒ Ø§ÛŒÙ†â€ŒÙ‡Ø§ Ø±Ùˆ Ø¯Ø± ØµÙˆØ±Øª Ù†ÛŒØ§Ø² ØªØºÛŒÛŒØ± Ø¨Ø¯Ù‡ -->
  <script>
    // ====== CONFIG ======
    const EXCHANGE_API_KEY = "6bb032eaa9270ecb135e1c75"; // Ú©Ù„ÛŒØ¯ Exchangerate (ØªÙˆ Ù‚Ø¨Ù„Ø§Ù‹ Ø¯Ø§Ø¯ÛŒ)
    const CONTACT_ENDPOINT = "https://formspree.io/f/meorekzo"; // ÙØ±Ù… Ø§Ø³Ù¾Ø±ÛŒ endpoint ØªÙˆ
    const TAWK_TO_SRC = ""; // Ø§Ú¯Ø± Tawk.to Ù†ØµØ¨ Ú©Ø±Ø¯ÛŒ Ø¢Ø¯Ø±Ø³ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø±Ùˆ Ø¨Ø°Ø§Ø±ØŒ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ù‡ ØªÙØ³Øª Ù…ÛŒØ´Ù‡
    // Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ SMS ÙˆØ§Ù‚Ø¹ÛŒ: Ù…Ø´Ø®ØµØ§Øª Ø³Ø±ÙˆÛŒØ³ Ù¾ÙˆÙ„ÛŒ/Ø§ÛŒØ±Ø§Ù†ÛŒ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù† Ø¯Ø± Ø¨Ø®Ø´ Ù…Ø±Ø¨ÙˆØ·Ù‡
    // ====================
  </script>

  <style>
    :root{--accent:#2563eb;--accent2:#ffd700;--bg:#f9fafb;--text:#111827}
    html,body{height:100%;margin:0;font-family:Vazirmatn,system-ui,sans-serif;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
    header{position:fixed;left:0;right:0;top:0;height:64px;background:rgba(17,24,39,0.9);color:#fff;display:flex;align-items:center;justify-content:space-between;padding:0 18px;z-index:200}
    header .logo{font-weight:700}
    nav a{color:#fff;text-decoration:none;margin:0 10px}
    main{max-width:1100px;margin:90px auto;padding:18px}
    .hero{display:flex;gap:18px;align-items:center;justify-content:space-between;flex-wrap:wrap}
    .hero .left{flex:1;min-width:260px}
    .hero h1{margin:0 0 10px;font-size:1.8rem}
    .cta{background:var(--accent);color:#fff;padding:10px 16px;border-radius:8px;text-decoration:none}
    .card-row{display:flex;gap:12px;flex-wrap:wrap}
    .card{background:#fff;padding:14px;border-radius:8px;box-shadow:0 8px 24px rgba(2,6,23,0.06);min-width:200px;flex:1}
    .services{display:flex;gap:12px;flex-wrap:wrap;margin-top:16px}
    .service{background:linear-gradient(180deg,#fff,#f8fafc);padding:12px;border-radius:8px;flex:1;min-width:200px}
    /* currency & metals */
    .ratesWrapper{display:flex;gap:12px;flex-wrap:wrap;margin-top:20px}
    #currencyRates,#metalRates{background:rgba(255,255,255,0.95);padding:12px;border-radius:8px;min-width:240px;box-shadow:0 6px 18px rgba(2,6,23,0.06)}
    #currencyRates ul,#metalRates ul{list-style:none;padding:8px;margin:0;display:flex;gap:8px;flex-wrap:wrap}
    #currencyRates li,#metalRates li{background:var(--accent);color:#fff;padding:8px 10px;border-radius:8px;font-weight:600}
    /* contact */
    .contact-form{background:#fff;padding:14px;border-radius:8px;box-shadow:0 6px 18px rgba(2,6,23,0.06);margin-top:16px}
    .contact-form input,.contact-form textarea{width:100%;padding:10px;border-radius:6px;border:1px solid #e5e7eb;margin-top:8px}
    .contact-form button{background:var(--accent);color:#fff;padding:10px 12px;border:none;border-radius:6px;cursor:pointer;margin-top:10px}
    /* user panel & admin */
    #userPanel,#adminPanel{background:#fff;padding:12px;border-radius:8px;margin-top:12px}
    .small{font-size:0.9rem;color:#6b7280}
    /* fixed currency button */
    #currencyBtn{position:fixed;bottom:22px;right:22px;background:var(--accent2);color:#000;border:none;padding:12px 18px;border-radius:999px;font-weight:700;cursor:pointer;z-index:120}
    /* cart */
    #cart{position:fixed;bottom:22px;left:22px;background:var(--accent);color:#fff;padding:10px 12px;border-radius:10px;z-index:120}
    /* FAQ */
    .faq-btn{width:100%;text-align:left;padding:10px;border-radius:8px;border:1px solid #e6e6e6;background:#fff;margin-top:8px}
    .faq-panel{display:none;padding:10px;background:#fff;border-radius:8px;margin-top:6px}
    /* responsive */
    @media(max-width:800px){.hero{flex-direction:column}.card-row{flex-direction:column}}
    /* dark theme */
    body.dark{background:#071029;color:#e6eef8}
    body.dark .card,body.dark .service,body.dark #currencyRates,body.dark #metalRates,body.dark .contact-form{background:#081025;color:#e6eef8;box-shadow:none}
  </style>
</head>
<body>

<header>
  <div class="logo">YourSite</div>
  <div>
    <button id="themeToggle" title="ØªÙ…">ğŸŒ™</button>
    <button id="loginBtn" title="ÙˆØ±ÙˆØ¯/Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…">ÙˆØ±ÙˆØ¯</button>
    <button id="adminOpen" title="Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†">Ø§Ø¯Ù…ÛŒÙ†</button>
    <nav style="display:inline-block;margin-left:12px">
      <a href="#services">Ø®Ø¯Ù…Ø§Øª</a>
      <a href="#currencyRates">Ù†Ø±Ø® Ø§Ø±Ø²</a>
      <a href="#metalRates">Ø·Ù„Ø§</a>
      <a href="#contact">ØªÙ…Ø§Ø³</a>
    </nav>
  </div>
</header>

<main>
  <!-- HERO -->
  <section class="hero">
    <div class="left">
      <h1>Ø³Ø§ÛŒØª Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ ØªÙˆ â€” Ø³Ø±ÛŒØ¹ØŒ Ø´ÛŒÚ© Ùˆ Ú©Ø§Ù…Ù„</h1>
      <p class="small">Ø·Ø±Ø§Ø­ÛŒ ÙˆØ¨ØŒ Ø³Ø¦ÙˆØŒ Ù†Ù…Ø§ÛŒØ´ Ù†Ø±Ø® Ø§Ø±Ø²/Ø·Ù„Ø§ØŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ØŒ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ùˆ Ø§Ù…Ú©Ø§Ù†Ø§Øª Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ.</p>
      <a id="ctaContact" class="cta" href="#contact">Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù…Ø´Ø§ÙˆØ±Ù‡</a>
      <div class="small" style="margin-top:10px">Ø¢Ø¯Ø±Ø³ Ø³Ø§ÛŒØª Ø´Ù…Ø§: <a target="_blank" href="https://mohamadeine99-web.github.io/expert-guacamole/">mohamadeine99-web.github.io/expert-guacamole</a></div>
    </div>
    <div class="right card">
      <h3>Ø®Ù„Ø§ØµÙ‡ Ø³Ø±ÛŒØ¹</h3>
      <div class="card-row">
        <div class="card"><strong>ÙˆØ§Ú©Ù†Ø´â€ŒÚ¯Ø±Ø§</strong><div class="small">Ù…ÙˆØ¨Ø§ÛŒÙ„ Ùˆ Ø¯Ø³Ú©ØªØ§Ù¾</div></div>
        <div class="card"><strong>Ø³Ø¦Ùˆ Ù¾Ø§ÛŒÙ‡</strong><div class="small">Ù…ØªØ§ØŒ structured data</div></div>
        <div class="card"><strong>Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</strong><div class="small">Ø¢Ù¾Ø¯ÛŒØª Ùˆ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ</div></div>
      </div>
    </div>
  </section>

  <!-- Services -->
  <section id="services" class="services">
    <div class="service"><h4>ÙˆØ¨â€ŒØ³Ø§ÛŒØª Ø´Ø±Ú©ØªÛŒ</h4><p>Ø·Ø±Ø§Ø­ÛŒ Ù…Ø¯Ø±Ù† Ùˆ Ø§Ù…Ù†</p></div>
    <div class="service"><h4>ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø¢Ù†Ù„Ø§ÛŒÙ†</h4><p>Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ùˆ Ù¾Ø±Ø¯Ø§Ø®Øª (Ù¾Ù„Ø§Ú¯ÛŒÙ†)</p></div>
    <div class="service"><h4>Ø³Ø¦Ùˆ Ùˆ Ù…Ø­ØªÙˆØ§</h4><p>ØªØ­Ù‚ÛŒÙ‚ Ú©Ù„Ù…Ø§Øª Ùˆ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ</p></div>
  </section>

  <!-- Rates & Metals -->
  <div class="ratesWrapper">
    <section id="currencyRates">
      <h3>ğŸ’² Ù†Ø±Ø® Ø§Ø±Ø² (Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ)</h3>
      <ul id="ratesList"><li>Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</li></ul>
      <div class="small">Ø¢Ø®Ø±ÛŒÙ† Ø¢Ù¾Ø¯ÛŒØª: <span id="ratesTime">--</span></div>
    </section>

    <section id="metalRates">
      <h3>ğŸ’° Ø·Ù„Ø§ Ùˆ Ù†Ù‚Ø±Ù‡ (Ø§Ù†Ø³)</h3>
      <ul id="metalsList"><li>Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</li></ul>
      <div class="small">Ø¢Ø®Ø±ÛŒÙ† Ø¢Ù¾Ø¯ÛŒØª: <span id="metalsTime">--</span></div>
    </section>
  </div>

  <!-- Blog (simple) -->
  <section id="blog" style="margin-top:18px">
    <h3>Ø¨Ù„Ø§Ú¯</h3>
    <div id="posts"></div>
    <div class="small" style="margin-top:8px">Ø¨Ø±Ø§ÛŒ Ø§ÙØ²ÙˆØ¯Ù† Ù¾Ø³Øª Ø¬Ø¯ÛŒØ¯ Ø§Ø² Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†.</div>
  </section>

  <!-- Testimonials -->
  <section style="margin-top:18px">
    <h3>Ù†Ø¸Ø±Ø§Øª Ù…Ø´ØªØ±ÛŒØ§Ù†</h3>
    <div class="card-row">
      <div class="card">Â«Ø¨Ø³ÛŒØ§Ø± Ø¹Ø§Ù„ÛŒ â€” Ú©ÛŒÙÛŒØª Ùˆ Ø³Ø±Ø¹Øª Ø®ÙˆØ¨Â» â€” Ø¹Ù„ÛŒ</div>
      <div class="card">Â«Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒÂ» â€” Ù†Ø±Ú¯Ø³</div>
    </div>
  </section>

  <!-- FAQ -->
  <section style="margin-top:18px">
    <h3>Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„</h3>
    <button class="faq-btn">Ú†Ù‚Ø¯Ø± Ø·ÙˆÙ„ Ù…ÛŒâ€ŒÚ©Ø´Ø¯ØŸ</button>
    <div class="faq-panel">Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Û³-Û· Ø±ÙˆØ² Ø¨Ø±Ø§ÛŒ Ø³Ø§ÛŒØª Ø³Ø§Ø¯Ù‡</div>
    <button class="faq-btn">Ø¢ÛŒØ§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø¯Ø§Ø±ÛŒÙ†ØŸ</button>
    <div class="faq-panel">Ø¨Ù„Ù‡ â€” Ù¾Ù„Ù†â€ŒÙ‡Ø§ÛŒ Ù…Ø§Ù‡Ø§Ù†Ù‡ Ø¯Ø§Ø±ÛŒÙ….</div>
  </section>

  <!-- Contact -->
  <section id="contact" style="margin-top:18px">
    <h3>ğŸ“¨ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</h3>
    <form id="contactForm" class="contact-form" method="POST" action="">
      <input name="name" placeholder="Ù†Ø§Ù…" required />
      <input name="email" type="email" placeholder="Ø§ÛŒÙ…ÛŒÙ„" required />
      <input name="phone" placeholder="ØªÙ„ÙÙ† (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)" />
      <textarea name="message" rows="4" placeholder="Ù¾ÛŒØ§Ù…" required></textarea>
      <div style="display:flex;gap:8px;flex-wrap:wrap">
        <button type="submit">Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…</button>
        <button type="button" id="subscribeBtn">Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ø®Ø¨Ø±Ù†Ø§Ù…Ù‡</button>
      </div>
      <p id="contactResult" style="display:none;margin-top:8px;color:green"></p>
    </form>
  </section>

  <!-- user panel -->
  <section id="userSection" style="margin-top:18px">
    <h3>Ù¾Ù†Ù„ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h3>
    <div id="userPanel" class="small">Ù‡Ù†ÙˆØ² ÙˆØ§Ø±Ø¯ Ù†Ø´Ø¯Ù‡â€ŒØ§ÛŒØ¯ â€” <button id="openLogin">ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</button></div>
  </section>

  <!-- admin panel (simple) -->
  <section id="adminSection" style="margin-top:18px;display:none">
    <h3>Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† (Ù†Ù…ÙˆÙ†Ù‡)</h3>
    <div id="adminPanel">
      <label>Ø±Ù…Ø² Ø§Ø¯Ù…ÛŒÙ† (Ù¾ÛŒØ´â€ŒÙØ±Ø¶: admin123)</label>
      <input id="adminPass" type="password"/>
      <button id="adminLoginBtn">ÙˆØ±ÙˆØ¯ Ø§Ø¯Ù…ÛŒÙ†</button>
      <hr/>
      <h4>Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø³Øªâ€ŒÙ‡Ø§</h4>
      <input id="postTitle" placeholder="Ø¹Ù†ÙˆØ§Ù† Ù¾Ø³Øª" />
      <textarea id="postBody" rows="3" placeholder="Ù…ØªÙ† Ù¾Ø³Øª"></textarea><br/>
      <button id="addPostBtn">Ø§ÙØ²ÙˆØ¯Ù† Ù¾Ø³Øª</button>
      <div id="adminPosts" style="margin-top:10px"></div>
    </div>
  </section>

  <footer style="margin-top:28px">Â© 2025 YourSite â€” Ù‡Ù…Ù‡ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª.</footer>
</main>

<!-- fixed action buttons -->
<button id="currencyBtn">ğŸ’² Ù†Ø±Ø® Ø§Ø±Ø²</button>
<button id="cart">ğŸ›’ Ø³Ø¨Ø¯ (<span id="cartCount">0</span>)</button>

<!-- Chat (Tawk.to) - if you have Tawk script, paste into TAWK_TO_SRC above -->
<!-- Example Tawk snippet (disabled by default). If you have Tawk id, insert it here. -->
<!-- <script src="https://embed.tawk.to/your_tawk_id/default"></script> -->

<script>
/* =================== APP LOGIC =================== */
/* Helpers */
const el=id=>document.getElementById(id);
const fmt=n=>typeof n==='number'? n.toLocaleString():n;

/* CONFIG from earlier (EXCHANGE_API_KEY, CONTACT_ENDPOINT) are global */
const EXCHANGE_KEY = typeof EXCHANGE_API_KEY !== 'undefined' ? EXCHANGE_API_KEY : "";
const CONTACT_EP = typeof CONTACT_ENDPOINT !== 'undefined' ? CONTACT_ENDPOINT : "";

/* ========== Rates ========== */
async function fetchRates(){
  const ul = el("ratesList");
  ul.innerHTML = "<li>Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</li>";
  try{
    if(!EXCHANGE_KEY) throw new Error("API key missing");
    const url = `https://v6.exchangerate-api.com/v6/${EXCHANGE_KEY}/latest/USD`;
    const r = await fetch(url);
    const data = await r.json();
    if(data.result !== "success") throw new Error("API error");
    ul.innerHTML = "";
    const show = ["USD","EUR","GBP","JPY","CNY","IRR","TRY","AUD","CAD"];
    show.forEach(c=>{
      const li = document.createElement("li");
      li.textContent = `${c}: ${fmt(data.conversion_rates[c])}`;
      ul.appendChild(li);
    });
    el("ratesTime").textContent = data.time_last_update_utc || new Date().toUTCString();
  }catch(e){
    console.error(e);
    ul.innerHTML = "<li>Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù†Ø±Ø®â€ŒÙ‡Ø§</li>";
    el("ratesTime").textContent = "--";
  }
}

/* ========== Metals ========== */
async function fetchMetals(){
  const ul = el("metalsList");
  ul.innerHTML = "<li>Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</li>";
  try{
    // free public endpoint (no key)
    const r = await fetch("https://api.metals.live/v1/spot");
    const data = await r.json();
    ul.innerHTML = "";
    const goldObj = data.find(it=>it.gold!==undefined);
    const silverObj = data.find(it=>it.silver!==undefined);
    const gold = goldObj?.gold ?? "N/A";
    const silver = silverObj?.silver ?? "N/A";
    const gLi = document.createElement("li"); gLi.textContent = `Ø·Ù„Ø§ (Ø§Ù†Ø³): ${fmt(gold)} USD`; ul.appendChild(gLi);
    const sLi = document.createElement("li"); sLi.textContent = `Ù†Ù‚Ø±Ù‡ (Ø§Ù†Ø³): ${fmt(silver)} USD`; ul.appendChild(sLi);
    el("metalsTime").textContent = new Date().toUTCString();
  }catch(e){
    console.error(e);
    ul.innerHTML = "<li>Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù‚ÛŒÙ…Øª Ø·Ù„Ø§/Ù†Ù‚Ø±Ù‡</li>";
    el("metalsTime").textContent = "--";
  }
}

/* ========== Blog (localStorage) ========== */
function loadPosts(){
  const posts = JSON.parse(localStorage.getItem("posts_v1")||"[]");
  const container = el("posts"); container.innerHTML="";
  posts.slice().reverse().forEach((p,i)=>{
    const div = document.createElement("div");
    div.className="card"; div.style.marginTop="8px";
    div.innerHTML = `<h4>${p.title}</h4><p class="small">${p.body}</p>`;
    container.appendChild(div);
  });
  // admin view
  const adminPosts = el("adminPosts"); if(adminPosts){ adminPosts.innerHTML=""; posts.forEach((p,idx)=>{ const d=document.createElement("div"); d.className="small"; d.innerHTML=`${p.title} <button data-idx="${idx}" class="delPost">Ø­Ø°Ù</button>`; adminPosts.appendChild(d); });}
}
function addPost(title,body){
  const posts = JSON.parse(localStorage.getItem("posts_v1")||"[]");
  posts.push({title,body,date:new Date().toISOString()});
  localStorage.setItem("posts_v1",JSON.stringify(posts));
  loadPosts();
}

/* ========== User auth (localStorage simple) ========== */
function currentUser(){ return JSON.parse(localStorage.getItem("user_v1")||"null"); }
function setUser(u){ localStorage.setItem("user_v1", JSON.stringify(u)); renderUserPanel(); }
function logout(){ localStorage.removeItem("user_v1"); renderUserPanel(); }
function renderUserPanel(){
  const up = el("userPanel");
  const user = currentUser();
  if(!user){ up.innerHTML = `Ù‡Ù†ÙˆØ² ÙˆØ§Ø±Ø¯ Ù†Ø´Ø¯Ù‡â€ŒØ§ÛŒØ¯ â€” <button id="openLogin2">ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</button>`; el("openLogin2")?.addEventListener("click", openLoginModal); el("openLogin")?.addEventListener("click", openLoginModal); }
  else {
    up.innerHTML = `<div>Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØŒ <strong>${user.name}</strong> â€” Ø§ÛŒÙ…ÛŒÙ„: ${user.email}<br/><button id="logoutBtn">Ø®Ø±ÙˆØ¬</button></div>`;
    el("logoutBtn").addEventListener("click", logout);
  }
}

/* simple login/signup modal (prompt-based to keep single-file) */
function openLoginModal(){
  const action = prompt("ÙˆØ±ÙˆØ¯ ÛŒØ§ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…ØŸ (login/signup) â€” ØªØ§ÛŒÙ¾ Ú©Ù† login ÛŒØ§ signup");
  if(!action) return;
  if(action.toLowerCase()==="signup"){
    const name = prompt("Ù†Ø§Ù… Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:");
    const email = prompt("Ø§ÛŒÙ…ÛŒÙ„ Ø´Ù…Ø§:");
    const phone = prompt("Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ† (Ø§Ø®ØªÛŒØ§Ø±ÛŒ):");
    // OPTIONAL: phone verification (mock)
    if(!email || !name){ alert("Ù†Ø§Ù… Ùˆ Ø§ÛŒÙ…ÛŒÙ„ Ù„Ø§Ø²Ù… Ø§Ø³Øª"); return; }
    // save to localStorage
    setUser({name, email, phone});
    alert("Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯ (Ù†Ù…ÙˆÙ†Ù‡). Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!");
  } else {
    const email = prompt("Ø§ÛŒÙ…ÛŒÙ„ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:");
    if(!email) return;
    // check existing (simple)
    const u = currentUser();
    if(u && u.email === email){ setUser(u); alert("ÙˆØ§Ø±Ø¯ Ø´Ø¯ÛŒØ¯!"); }
    else {
      // for demo, allow quick login by entering name
      const name = prompt("Ø­Ø§Ù„Ø§ Ù†Ø§Ù… Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù† ØªØ§ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒ (demo)");
      setUser({name, email, phone:""});
      alert("ÙˆØ§Ø±Ø¯ Ø´Ø¯ÛŒ (demo).");
    }
  }
}

/* ========== Admin quick (insecure demo) ========== */
function openAdmin(){
  const pass = prompt("Ø±Ù…Ø² Ø§Ø¯Ù…ÛŒÙ† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (demo: admin123)");
  if(pass !== "admin123"){ alert("Ø±Ù…Ø² Ø§Ø´ØªØ¨Ø§Ù‡"); return; }
  // show admin section
  el("adminSection").style.display = "block";
  // wire admin actions
  el("addPostBtn").addEventListener("click", ()=>{ const t=el("postTitle").value; const b=el("postBody").value; if(!t||!b){alert("Ø¹Ù†ÙˆØ§Ù† Ùˆ Ù…ØªÙ† Ù„Ø§Ø²Ù… Ø§Ø³Øª")}else{ addPost(t,b); el("postTitle").value=""; el("postBody").value=""; alert("Ù¾Ø³Øª Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯"); }});
  el("adminPosts").addEventListener("click", (e)=>{ if(e.target.classList.contains("delPost")){ const idx = e.target.dataset.idx; const posts=JSON.parse(localStorage.getItem("posts_v1")||"[]"); posts.splice(idx,1); localStorage.setItem("posts_v1",JSON.stringify(posts)); loadPosts(); }});
}

/* ========== Cart (local demo) ========== */
function cartCount(){ const c=JSON.parse(localStorage.getItem("cart_v1")||"[]"); return c.length; }
function updateCartUI(){ el("cartCount").textContent = cartCount(); }
function addToCart(item){ const c=JSON.parse(localStorage.getItem("cart_v1")||"[]"); c.push(item); localStorage.setItem("cart_v1",JSON.stringify(c)); updateCartUI(); }

/* ========== Newsletter (demo) ========== */
function subscribeDemo(){
  const email = prompt("Ø§ÛŒÙ…ÛŒÙ„ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø®Ø¨Ø±Ù†Ø§Ù…Ù‡ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:");
  if(!email) return alert("Ø§ÛŒÙ…ÛŒÙ„ Ù„Ø§Ø²Ù… Ø§Ø³Øª");
  // In production: POST to Mailchimp or Brevo
  alert("Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯ (Ø¯Ù…Ùˆ). Ø¯Ø± Ù†Ø³Ø®Ù‡ ÙˆØ§Ù‚Ø¹ÛŒ Ø¨Ø§ÛŒØ¯ Mailchimp/Brevo Ø±Ø§ ÙˆØµÙ„ Ú©Ù†ÛŒØ¯.");
}

/* ========== Contact form handling (Formspree) ========== */
document.addEventListener("submit", async function(e){
  if(e.target && e.target.id === "contactForm"){
    e.preventDefault();
    const form = e.target;
    const data = new FormData(form);
    try{
      if(CONTACT_EP){
        const res = await fetch(CONTACT_EP, { method:"POST", body: data, headers:{ 'Accept':'application/json' } });
        if(res.ok){ el("contactResult").style.display="block"; el("contactResult").textContent = "Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯ â€” Ù…Ù…Ù†ÙˆÙ†!"; form.reset(); }
        else { el("contactResult").style.display="block"; el("contactResult").textContent = "Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ (Formspree)"; }
      } else {
        // demo: store locally
        const saved = JSON.parse(localStorage.getItem("messages_v1")||"[]");
        saved.push(Object.fromEntries(data.entries()).concat? data : Object.fromEntries(data.entries()));
        localStorage.setItem("messages_v1", JSON.stringify(saved));
        el("contactResult").style.display="block"; el("contactResult").textContent = "Ù¾ÛŒØ§Ù… Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯ (Ù…Ø­Ù„ÛŒØŒ demo).";
        form.reset();
      }
    }catch(err){ console.error(err); el("contactResult").style.display="block"; el("contactResult").textContent = "Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„"; }
  }
});

/* ========== UI wiring ========== */
document.addEventListener("DOMContentLoaded", function(){
  // load rates & metals
  fetchRates(); fetchMetals();
  setInterval(fetchRates, 600000);
  setInterval(fetchMetals, 600000);

  // currency button scroll
  el("currencyBtn").addEventListener("click", ()=> el("currencyRates").scrollIntoView({behavior:"smooth"}));
  el("cart").addEventListener("click", ()=>{ const c = JSON.parse(localStorage.getItem("cart_v1")||"[]"); alert("Ø³Ø¨Ø¯ Ø´Ù…Ø§ (demo):\\n" + JSON.stringify(c)); });

  // theme toggle
  el("themeToggle").addEventListener("click", ()=> document.body.classList.toggle("dark"));

  // login
  el("loginBtn").addEventListener("click", openLoginModal);
  el("openLogin")?.addEventListener("click", openLoginModal);

  // admin
  el("adminOpen").addEventListener("click", openAdmin);

  // subscribe demo
  el("subscribeBtn").addEventListener("click", subscribeDemo);

  // faq accordion
  document.querySelectorAll(".faq-btn").forEach(btn=>{
    btn.addEventListener("click", ()=>{
      const panel = btn.nextElementSibling;
      panel.style.display = (panel.style.display === "block") ? "none" : "block";
    });
  });

  // user panel
  renderUserPanel();

  // load blog posts
  loadPosts();

  // register notification permission (ask user)
  if("Notification" in window){
    if(Notification.permission === "default"){
      // ask politely
      setTimeout(()=>{ if(confirm("Ø¢ÛŒØ§ ØªÙ…Ø§ÛŒÙ„ Ø¨Ù‡ Ø¯Ø±ÛŒØ§ÙØª Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ù…Ø±ÙˆØ±Ú¯Ø± Ø¨Ø±Ø§ÛŒ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒâ€ŒÙ‡Ø§ Ø¯Ø§Ø±ÛŒØŸ")) Notification.requestPermission(); }, 3000);
    }
  }

}); // DOMContentLoaded

/* ========== Optional: register service worker for simple PWA caching ========= */
if('serviceWorker' in navigator){
  navigator.serviceWorker.register('sw.js').then(()=>console.log('sw registered')).catch(()=>console.warn('sw failed'));
}
</script>
</body>
</html>
